<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bob-Styles AI Features Part 2 Demo</title>
    <link rel="stylesheet" href="dist/index.css">
    <style>
        :root {
            --color-primary: #3b82f6;
            --color-secondary: #64748b;
            --color-accent: #f59e0b;
            --color-background: #ffffff;
            --color-surface: #f8fafc;
            --color-text: #1e293b;
            --color-text-secondary: #64748b;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            margin: 0;
            background: var(--color-background);
            color: var(--color-text);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .feature-section {
            margin: 3rem 0;
            padding: 2rem;
            background: var(--color-surface);
            border-radius: 12px;
            border: 1px solid #e2e8f0;
        }

        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .demo-card {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
            transition: transform 0.2s ease;
        }

        .demo-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .color-palette {
            display: flex;
            gap: 0.5rem;
            margin: 1rem 0;
        }

        .color-swatch {
            width: 40px;
            height: 40px;
            border-radius: 6px;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .controls {
            display: flex;
            gap: 1rem;
            margin: 1rem 0;
            flex-wrap: wrap;
        }

        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 6px;
            background: var(--color-primary);
            color: white;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .btn:hover {
            background: #2563eb;
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: var(--color-secondary);
        }

        .btn-secondary:hover {
            background: #475569;
        }

        .test-elements {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .test-element {
            padding: 1rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 8px;
            text-align: center;
        }

        .performance-monitor {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }

        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 0.5rem;
        }

        .status-good { background: #10b981; }
        .status-warning { background: #f59e0b; }
        .status-error { background: #ef4444; }

        .animation-showcase {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .animation-box {
            height: 100px;
            background: var(--color-accent);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            cursor: pointer;
        }

        .log-output {
            background: #f1f5f9;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            padding: 1rem;
            max-height: 200px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ü§ñ Bob-Styles AI Features Part 2</h1>
            <p>Advanced AI-powered features: Visual Regression Testing, Color Harmony Generation, and Micro-Animation Choreography</p>
        </header>

        <!-- Visual Regression Testing Suite -->
        <section class="feature-section">
            <h2>üì∏ Visual Regression Testing Suite</h2>
            <p>Automated screenshot comparison and visual change detection for components</p>
            
            <div class="controls">
                <button class="btn" onclick="runVisualTests()">Run Visual Tests</button>
                <button class="btn btn-secondary" onclick="clearBaselines()">Clear Baselines</button>
                <button class="btn btn-secondary" onclick="showTestReport()">Show Report</button>
            </div>

            <div class="test-elements" id="test-elements">
                <div class="test-element" data-test="button-primary">Primary Button</div>
                <div class="test-element" data-test="card-component">Card Component</div>
                <div class="test-element" data-test="navigation-item">Navigation Item</div>
                <div class="test-element" data-test="form-input">Form Input</div>
            </div>

            <div class="log-output" id="vrt-log">
                Visual regression testing logs will appear here...
            </div>
        </section>

        <!-- Dynamic Color Harmony Generator -->
        <section class="feature-section">
            <h2>üé® Dynamic Color Harmony Generator</h2>
            <p>Intelligent color palette creation with accessibility compliance</p>
            
            <div class="controls">
                <input type="color" id="base-color" value="#3b82f6" onchange="generateHarmony()">
                <select id="harmony-type" onchange="generateHarmony()">
                    <option value="monochromatic">Monochromatic</option>
                    <option value="analogous">Analogous</option>
                    <option value="complementary">Complementary</option>
                    <option value="triadic">Triadic</option>
                    <option value="tetradic">Tetradic</option>
                </select>
                <button class="btn" onclick="applyGeneratedPalette()">Apply Palette</button>
                <button class="btn btn-secondary" onclick="exportPalette()">Export CSS</button>
            </div>

            <div class="demo-grid">
                <div class="demo-card">
                    <h3>Generated Palette</h3>
                    <div class="color-palette" id="color-palette">
                        <!-- Colors will be generated here -->
                    </div>
                    <div id="color-psychology"></div>
                </div>
                
                <div class="demo-card">
                    <h3>Accessibility Check</h3>
                    <div id="accessibility-report">
                        <div><span class="status-indicator status-good"></span>WCAG AA Compliant</div>
                        <div><span class="status-indicator status-good"></span>Contrast Ratio: 4.8:1</div>
                        <div><span class="status-indicator status-warning"></span>Color Blind Safe: Partial</div>
                    </div>
                </div>
            </div>

            <div class="log-output" id="color-log">
                Color harmony generation logs will appear here...
            </div>
        </section>

        <!-- Micro-Animation Choreographer -->
        <section class="feature-section">
            <h2>üé≠ Micro-Animation Choreographer</h2>
            <p>Coordinated micro-animations with performance monitoring</p>
            
            <div class="controls">
                <button class="btn" onclick="demonstrateAnimations()">Demo Animations</button>
                <button class="btn" onclick="runStaggeredAnimation()">Staggered Animation</button>
                <button class="btn" onclick="createAnimationSequence()">Animation Sequence</button>
                <button class="btn btn-secondary" onclick="showPerformanceReport()">Performance Report</button>
            </div>

            <div class="animation-showcase" id="animation-showcase">
                <div class="animation-box" data-hover-animation="bounce">Hover: Bounce</div>
                <div class="animation-box" data-click-animation="shake">Click: Shake</div>
                <div class="animation-box" data-animate-on-scroll="fadeIn">Scroll: Fade In</div>
                <div class="animation-box" data-hover-animation="pulse">Hover: Pulse</div>
            </div>

            <div class="performance-monitor" id="performance-monitor">
                <div>üéØ Performance Monitor</div>
                <div>FPS: <span id="fps-counter">60</span></div>
                <div>Frame Drops: <span id="frame-drops">0</span></div>
                <div>Active Animations: <span id="active-animations">0</span></div>
                <div>Reduced Motion: <span id="reduced-motion">false</span></div>
            </div>

            <div class="log-output" id="animation-log">
                Animation choreographer logs will appear here...
            </div>
        </section>
    </div>

    <!-- Load the AI feature modules -->
    <script src="dist/js/visual-regression-tester.js"></script>
    <script src="dist/js/color-harmony-generator.js"></script>
    <script src="dist/js/micro-animation-choreographer.js"></script>

    <script>
        // Visual Regression Testing Functions
        function runVisualTests() {
            const log = document.getElementById('vrt-log');
            log.innerHTML = 'üîç Running visual regression tests...\n';
            
            const tests = [
                { selector: '[data-test="button-primary"]', name: 'primary-button' },
                { selector: '[data-test="card-component"]', name: 'card-component' },
                { selector: '[data-test="navigation-item"]', name: 'navigation-item' },
                { selector: '[data-test="form-input"]', name: 'form-input' }
            ];

            window.vrt.runTestSuite(tests).then(results => {
                log.innerHTML += `\nüìä Test Results: ${results.passed} passed, ${results.failed} failed\n`;
                results.results.forEach(result => {
                    const status = result.match ? '‚úÖ' : result.status === 'baseline_created' ? 'üìù' : '‚ùå';
                    log.innerHTML += `${status} ${result.testName}: ${result.status || (result.match ? 'PASS' : 'FAIL')}\n`;
                });
            });
        }

        function clearBaselines() {
            window.vrt.clearBaselines();
            document.getElementById('vrt-log').innerHTML += 'üóëÔ∏è All baselines cleared\n';
        }

        function showTestReport() {
            const report = window.vrt.generateReport();
            const log = document.getElementById('vrt-log');
            log.innerHTML += `\nüìã Test Report:\n`;
            log.innerHTML += `Total Tests: ${report.totalTests}\n`;
            log.innerHTML += `Passed: ${report.passed}\n`;
            log.innerHTML += `Failed: ${report.failed}\n`;
            log.innerHTML += `Generated: ${new Date(report.timestamp).toLocaleString()}\n`;
        }

        // Color Harmony Functions
        function generateHarmony() {
            const baseColor = document.getElementById('base-color').value;
            const harmonyType = document.getElementById('harmony-type').value;
            
            const result = window.colorHarmony.generateAccessiblePalette(baseColor, harmonyType);
            displayColorPalette(result);
            
            const psychology = window.colorHarmony.analyzeColorPsychology(baseColor);
            document.getElementById('color-psychology').innerHTML = 
                `<strong>Psychology:</strong> ${psychology.mood} mood, evokes ${psychology.emotion}, ideal for ${psychology.use}`;
            
            document.getElementById('color-log').innerHTML += 
                `üé® Generated ${harmonyType} harmony from ${baseColor}\n`;
        }

        function displayColorPalette(result) {
            const palette = document.getElementById('color-palette');
            palette.innerHTML = '';
            
            result.colors.forEach((color, index) => {
                const swatch = document.createElement('div');
                swatch.className = 'color-swatch';
                swatch.style.backgroundColor = color;
                swatch.title = color;
                palette.appendChild(swatch);
            });
        }

        function applyGeneratedPalette() {
            const baseColor = document.getElementById('base-color').value;
            const harmonyType = document.getElementById('harmony-type').value;
            
            const result = window.colorHarmony.generateAccessiblePalette(baseColor, harmonyType);
            window.colorHarmony.applyPalette(result);
            
            document.getElementById('color-log').innerHTML += 
                `‚úÖ Applied ${harmonyType} palette to page\n`;
        }

        function exportPalette() {
            const baseColor = document.getElementById('base-color').value;
            const harmonyType = document.getElementById('harmony-type').value;
            
            const result = window.colorHarmony.generateAccessiblePalette(baseColor, harmonyType);
            const css = window.colorHarmony.exportPalette(result, 'css');
            
            navigator.clipboard.writeText(css).then(() => {
                document.getElementById('color-log').innerHTML += 'üìã CSS palette copied to clipboard\n';
            });
        }

        // Animation Functions
        function demonstrateAnimations() {
            const boxes = document.querySelectorAll('.animation-box');
            boxes.forEach((box, index) => {
                setTimeout(() => {
                    window.animator.fadeIn(box);
                }, index * 200);
            });
            
            document.getElementById('animation-log').innerHTML += 'üé≠ Demonstrated fade-in animations\n';
        }

        function runStaggeredAnimation() {
            const boxes = document.querySelectorAll('.animation-box');
            window.animator.staggerElements(Array.from(boxes), 'bounce', { staggerDelay: 150 });
            
            document.getElementById('animation-log').innerHTML += 'üéØ Executed staggered bounce animation\n';
        }

        function createAnimationSequence() {
            const boxes = document.querySelectorAll('.animation-box');
            const sequence = Array.from(boxes).map((box, index) => ({
                element: box,
                animation: index % 2 === 0 ? 'slideIn' : 'bounce',
                options: { duration: 300 }
            }));
            
            window.animator.createSequence('demo-sequence', sequence);
            window.animator.playSequence('demo-sequence', 100);
            
            document.getElementById('animation-log').innerHTML += 'üé¨ Created and played animation sequence\n';
        }

        function showPerformanceReport() {
            const report = window.animator.getPerformanceReport();
            document.getElementById('fps-counter').textContent = report.avgFPS;
            document.getElementById('frame-drops').textContent = report.frameDrops;
            document.getElementById('active-animations').textContent = report.activeAnimations;
            document.getElementById('reduced-motion').textContent = report.reducedMotion;
            
            document.getElementById('animation-log').innerHTML += 
                `üìä Performance: ${report.avgFPS}fps, ${report.frameDrops} drops, ${report.activeAnimations} active\n`;
        }

        // Initialize demo
        document.addEventListener('DOMContentLoaded', () => {
            generateHarmony();
            
            // Update performance monitor every 2 seconds
            setInterval(() => {
                const report = window.animator.getPerformanceReport();
                document.getElementById('fps-counter').textContent = report.avgFPS;
                document.getElementById('frame-drops').textContent = report.frameDrops;
                document.getElementById('active-animations').textContent = report.activeAnimations;
            }, 2000);
        });
    </script>
</body>
</html>
