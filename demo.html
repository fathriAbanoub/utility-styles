<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bob Styles 2.0 - Revolutionary CSS Framework</title>
    <link rel="stylesheet" href="dist/index.css">
    <style>
        body {
            margin: 0;
            font-family: 'Inter', sans-serif;
            background: var(--color-gray-50);
            color: var(--color-gray-900);
        }
    </style>
</head>
<body>
    <!-- Theme Toggle -->
    <div class="component component--flex-between p-4" style="background: var(--color-white); box-shadow: var(--shadow-sm);">
        <h1 class="text-2xl-fluid font-bold">Bob Styles 2.0</h1>
        <div class="component-cluster">
            <button id="theme-toggle" class="component component--button component--button-outline component--button-sm">
                üåô Toggle Theme
            </button>
            <button id="high-contrast" class="component component--button component--button-secondary component--button-sm">
                üîç High Contrast
            </button>
        </div>
    </div>

    <div class="p-6">
        <!-- Hero Section with Fluid Typography -->
        <section class="component component--card component--card-elevated text-center p-8 m-6">
            <h1 class="text-5xl-fluid font-bold typography-rhythm">Revolutionary CSS Framework</h1>
            <p class="text-lg-fluid text-reading-optimal mx-auto">
                Experience the future of CSS with AI-powered typography, component-first architecture, 
                and performance optimization built right in.
            </p>
            <div class="component-cluster justify-center mt-6">
                <button class="component component--button component--button-primary component--button-lg">
                    Get Started
                </button>
                <button class="component component--button component--button-outline component--button-lg">
                    View Docs
                </button>
            </div>
        </section>

        <!-- Feature Grid -->
        <section class="component-auto-grid m-6">
            <div class="component component--card">
                <h3 class="text-2xl-fluid font-semibold">üé® CSS Custom Properties</h3>
                <p class="text-base-fluid">Automatic SCSS to CSS variable conversion with runtime manipulation capabilities.</p>
                <div class="component component--button component--button-primary component--button-sm mt-4">
                    Learn More
                </div>
            </div>
            
            <div class="component component--card">
                <h3 class="text-2xl-fluid font-semibold">‚ö° Performance Optimizer</h3>
                <p class="text-base-fluid">Dead code elimination, critical CSS extraction, and bundle size analytics.</p>
                <div class="component component--button component--button-primary component--button-sm mt-4">
                    Learn More
                </div>
            </div>
            
            <div class="component component--card">
                <h3 class="text-2xl-fluid font-semibold">üåô Advanced Theming</h3>
                <p class="text-base-fluid">Runtime theme switching with zero flash and automatic dark mode support.</p>
                <div class="component component--button component--button-primary component--button-sm mt-4">
                    Learn More
                </div>
            </div>
            
            <div class="component component--card">
                <h3 class="text-2xl-fluid font-semibold">üì± Fluid Typography</h3>
                <p class="text-base-fluid">Perfect scaling across all devices with reading distance optimization.</p>
                <div class="component component--button component--button-primary component--button-sm mt-4">
                    Learn More
                </div>
            </div>
            
            <div class="component component--card">
                <h3 class="text-2xl-fluid font-semibold">üß© Component System</h3>
                <p class="text-base-fluid">Smart component composition with conflict resolution and auto-generation.</p>
                <div class="component component--button component--button-primary component--button-sm mt-4">
                    Learn More
                </div>
            </div>
            
            <div class="component component--card">
                <h3 class="text-2xl-fluid font-semibold">‚ôø Accessibility First</h3>
                <p class="text-base-fluid">Built-in accessibility features with automatic compliance checking.</p>
                <div class="component component--button component--button-primary component--button-sm mt-4">
                    Learn More
                </div>
            </div>
        </section>

        <!-- Component Showcase -->
        <section class="m-6">
            <h2 class="text-4xl-fluid font-bold text-center mb-8">Component Showcase</h2>
            
            <!-- Navigation Component -->
            <div class="component component--card mb-6">
                <h3 class="text-2xl-fluid font-semibold mb-4">Navigation Component</h3>
                <nav class="component component--nav">
                    <a href="#" class="component component--nav-item active">Home</a>
                    <a href="#" class="component component--nav-item">Products</a>
                    <a href="#" class="component component--nav-item">About</a>
                    <a href="#" class="component component--nav-item">Contact</a>
                </nav>
            </div>

            <!-- Form Components -->
            <div class="component component--card mb-6">
                <h3 class="text-2xl-fluid font-semibold mb-4">Form Components</h3>
                <div class="component-stack">
                    <input type="text" placeholder="Your name" class="component component--input">
                    <input type="email" placeholder="Your email" class="component component--input">
                    <input type="text" placeholder="Error state" class="component component--input component--input-error">
                    <button class="component component--button component--button-primary">Submit</button>
                </div>
            </div>

            <!-- Modal Demo -->
            <div class="component component--card mb-6">
                <h3 class="text-2xl-fluid font-semibold mb-4">Modal Component</h3>
                <button id="modal-trigger" class="component component--button component--button-secondary">
                    Open Modal
                </button>
            </div>

            <!-- State Management Demo -->
            <div class="component component--card mb-6">
                <h3 class="text-2xl-fluid font-semibold mb-4">Component States</h3>
                <div class="component-cluster">
                    <div class="component component--card component--card-compact component-state" data-state="loading">
                        Loading State
                    </div>
                    <div class="component component--card component--card-compact component-state" data-state="error">
                        Error State
                    </div>
                    <div class="component component--card component--card-compact component-state" data-state="success">
                        Success State
                    </div>
                </div>
            </div>
        </section>

        <!-- Typography Showcase -->
        <section class="component component--card m-6 typography-rhythm">
            <h2 class="text-4xl-fluid font-bold">Typography System</h2>
            <h3 class="text-3xl-fluid font-semibold">Fluid Typography in Action</h3>
            <h4 class="text-2xl-fluid font-medium">Perfect Scaling Across Devices</h4>
            <p class="text-base-fluid">
                This paragraph demonstrates our fluid typography system. The text scales perfectly 
                across all screen sizes while maintaining optimal readability. The line height, 
                letter spacing, and font size all adjust automatically based on the viewport.
            </p>
            <p class="text-sm-fluid">
                Even smaller text maintains perfect proportions and readability across all devices.
            </p>
        </section>
    </div>

    <!-- Modal -->
    <div id="demo-modal" class="component component--modal">
        <div class="component component--modal-content">
            <h3 class="text-2xl-fluid font-bold mb-4">Demo Modal</h3>
            <p class="text-base-fluid mb-6">
                This modal demonstrates the component system with smooth animations and 
                accessibility features built right in.
            </p>
            <div class="component-cluster">
                <button id="modal-close" class="component component--button component--button-primary">
                    Close
                </button>
                <button class="component component--button component--button-secondary">
                    Cancel
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="dist/js/theme-engine.js"></script>
    <script src="dist/js/utility-optimizer.js"></script>
    <script>
        // Theme toggle functionality
        document.getElementById('theme-toggle').addEventListener('click', () => {
            window.themeEngine.toggleTheme();
        });

        document.getElementById('high-contrast').addEventListener('click', () => {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'high-contrast' ? 'light' : 'high-contrast';
            window.themeEngine.setTheme(newTheme);
        });

        // Modal functionality
        const modal = document.getElementById('demo-modal');
        const modalTrigger = document.getElementById('modal-trigger');
        const modalClose = document.getElementById('modal-close');

        modalTrigger.addEventListener('click', () => {
            modal.classList.add('active');
        });

        modalClose.addEventListener('click', () => {
            modal.classList.remove('active');
        });

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.remove('active');
            }
        });

        // Performance monitoring with proper checks
        window.addEventListener('load', () => {
            const checkAndReport = () => {
                if (window.utilityOptimizer && typeof window.utilityOptimizer.getUsageStats === 'function') {
                    try {
                        const stats = window.utilityOptimizer.getUsageStats();
                        console.log('üöÄ Performance Stats:', stats);
                        
                        const critical = window.utilityOptimizer.extractCriticalCSS();
                        console.log('üìÑ Critical CSS classes:', critical.length);
                    } catch (error) {
                        console.warn('Performance monitoring failed:', error);
                    }
                } else {
                    console.warn('Utility optimizer not ready, retrying...');
                    setTimeout(checkAndReport, 500);
                }
            };
            
            // Start checking immediately, then retry if needed
            checkAndReport();
        });
    </script>
</body>
</html>
